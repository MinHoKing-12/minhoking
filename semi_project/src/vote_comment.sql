DROP TABLE VOTE_COMMENT
CASCADE CONSTRAINTS;

DROP SEQUENCE SEQ_VOTE_COMMENT;


CREATE TABLE VOTE_COMMENT(
SEQ NUMBER(8) PRIMARY KEY,
ID VARCHAR2(20) NOT NULL,
CONTENT VARCHAR2(4000) NOT NULL,
PLAYERNUM NUMBER(8) NOT NULL,
WDATE DATE NOT NULL,
DEL NUMBER(8) NOT NULL
);

CREATE SEQUENCE SEQ_VOTE_COMMENT
START WITH 1
INCREMENT BY 1;

ALTER TABLE VOTE_COMMENT
ADD CONSTRAINT FK_VOTE_PLAYERNUM FOREIGN KEY(PLAYERNUM)
REFERENCES PLAYER_INFO(SEQ);

ALTER TABLE VOTE_COMMENT
ADD CONSTRAINT FK_VOTE_NICKNAME2 FOREIGN KEY(ID)
REFERENCES MEMBER(ID);



SELECT ID
FROM(SELECT ROW_NUMBER()OVER(ORDER BY SEQ) AS RNUM, SEQ, ID, PLAYNUM
   FROM VOTE_BBS
   WHERE PLAYNUM = 1)
WHERE RNUM = 1








SELECT * FROM VOTE_BBS

SELECT * FROM VOTE_COMMENT

SELECT * FROM VOTE_COMMENT WHERE PLAYERNUM = 1 ORDER BY WDATE;

SELECT RNUM, SEQ, ID, CONTENT, PLAYERNUM, WDATE, DEL FROM
(SELECT ROW_NUMBER()OVER(ORDER BY WDATE) AS RNUM, SEQ, ID, CONTENT, PLAYERNUM, WDATE, DEL 
FROM VOTE_COMMENT WHERE PLAYERNUM = 1 ) WHERE RNUM >= 1 AND RNUM <= 5  

